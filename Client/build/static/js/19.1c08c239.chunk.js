(this.webpackJsonpclinet=this.webpackJsonpclinet||[]).push([[19],{412:function(t,e,a){},549:function(t,e,a){"use strict";a.r(e);var n=a(137),r=a.n(n),s=a(138),c=a(4),o=a(17),i=a(18),l=a(20),u=a(19),h=a(0),b=a(159),d=a(160),p=a(279),j=a(280),f=a(220),O=a(526),g=a(22),x=a(21),m=a(413),k=a.n(m),v=(a(412),a(1)),y=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))).state={line:{data:[]},pie:{},options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}},t.populateLineChart=function(){g.a.post("/settings/work-force-analysis",null,{headers:{Authorization:"Bearer "+t.props.token}}).then((function(e){console.log(e.data.results),t.setState((function(t){return Object(c.a)(Object(c.a)({},t),{},{line:{labels:e.data.results.map((function(t){return t.month_name})),datasets:[{label:"Work Force Availability (Hours)",data:e.data.results.map((function(t){return t.total})),fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]}})}))})).catch((function(e){return t.setState({error:!0})}))},t.populatePieChart=function(){g.a.post("/settings/work-force-shifts",null,{headers:{Authorization:"Bearer "+t.props.token}}).then((function(e){console.log(e.data.results),t.setState((function(t){return Object(c.a)(Object(c.a)({},t),{},{pie:{labels:e.data.results.map((function(t){return t.shift_name})),datasets:[{label:"Shifts Allocation",data:e.data.results.map((function(t){return t.total})),backgroundColor:e.data.results.map((function(t){return t.bgcolor})),borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]}})}))})).catch((function(e){return t.setState({error:!0})}))},t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.populateLineChart();case 3:return t.next=5,this.populatePieChart();case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a,{children:Object(v.jsx)(d.a,{md:12,children:Object(v.jsx)(p.a,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)(O.a,{data:this.state.line,height:50,options:this.state.options})})})})}),Object(v.jsxs)(b.a,{style:{paddingTop:"1%"},children:[Object(v.jsx)(d.a,{md:6,children:Object(v.jsx)(p.a,{children:Object(v.jsx)(j.a,{children:Object(v.jsx)(O.b,{data:this.state.pie,height:500,options:{maintainAspectRatio:!1}})})})}),Object(v.jsx)(d.a,{md:6,children:Object(v.jsxs)(p.a,{children:[Object(v.jsxs)(f.a,{children:[Object(v.jsx)(k.a,{})," Announcements"]}),Object(v.jsx)(j.a,{children:Object(v.jsx)("div",{className:"text-center",children:"Your are caught up ! \ud83c\udf89"})})]})})]})]})}}]),a}(h.Component);e.default=Object(x.b)((function(t){return{token:t.auth.token}}),null)(y)}}]);
//# sourceMappingURL=19.1c08c239.chunk.js.map